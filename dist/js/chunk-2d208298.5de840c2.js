(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208298"],{a42a:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(e){return e.preventDefault(),t._actionStored(e)}}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Judul Quiz ")]),r("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.judul_quiz)+"\n            ")])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Premium ")]),r("div",{staticClass:"col-sm-8"},[t.quiz.is_premium?r("span",{staticClass:"badeg badge-success"},[t._v(" Premium ")]):r("span",{staticClass:"badge badge-primary font-xl"},[t._v(" Free ")])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Kategori Quiz ")]),r("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.category_quiz)+"\n            ")])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Tipe Quiz ")]),r("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.type_quiz)+"\n            ")])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Tipe Start Quiz ")]),r("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.type_start)+"\n            ")])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Penyelenggara Ujian ")]),r("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.penyelenggara)+"\n            ")])]),t._m(0)])])])]),r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("table",{staticClass:"table table-sm table-bordered table-striped table-hover"},[t._m(1),r("tbody",{staticStyle:{color:"black"}},[t._l(t.quizs,(function(e,s){return[r("tr",{key:e.id},[r("td",[t._v(t._s((t.currentPage-1)*t.perPage+ ++s))]),r("td",[t._v(t._s(e.value.soal_text))]),r("td"),r("td",[t._v(t._s(e.value.category_id))]),r("td",[t._v(t._s(e.value.matpel_id))]),r("td",[t._v(t._s(e.value.publisher_id))]),r("td",[r("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(r){return t.deleteIndexedDbByKey(e)}}},[r("i",{staticClass:"fa fa-trash"})])])])]}))],2)])])])])])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group row justify-content-center"},[r("div",{staticClass:"col-md-3"},[r("button",{staticClass:"btn btn-block btn-primary"},[r("i",{staticClass:"fa fa-save"})])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("No")]),r("th",[t._v("Soal Text")]),r("th",[t._v("Soal Image")]),r("th",[t._v("Category")]),r("th",[t._v("Matapelajaran")]),r("th",[t._v("Publisher")]),r("th",[t._v("Action")])])])}],a=(r("ac6a"),r("96cf"),r("3b8d")),o={name:"CartSoalQuiz",data:function(){return{items:[],Form:{},quiz:{},currentPage:1,perPage:100,totalRows:0,isLoading:!1,token:null,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",errors_message:null,db:null,quizs:null,DB_NAME:"tryout",DB_VERSION:3,totalCart:0}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDb();case 2:return this.db=t.sent,t.next=5,this._actionGetStoreQuiz();case 5:this.quizs=t.sent;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.token=sessionStorage.getItem("session_token");var t=this.$route.query._id;this._actionGetQuizByid(t),this._actionGetSoalByUjianId(),this._actionGetStoreQuiz()},methods:{_actionGetQuizByid:function(t){var e=this;this.$axios.get("quiz/"+t,{headers:{"x-access-token":this.token}}).then((function(t){var r=t.data;"true"===t.data.success&&(e.quiz=r.data),e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},_actionGetSoalByUjianId:function(){var t=localStorage.getItem("soal");this.items=JSON.parse(t)},_actionStored:function(){var t=this,e=[];this.quizs.forEach((function(t){e.push(t.value)})),console.log(e);var r={quiz_id:this.quiz._id,soal:e};console.log(r),this.$axios.post("soal-quiz/sub-soal",r,{headers:{"x-access-token":this.token}}).then((function(e){t.$notify({group:"foo",title:"Success Add ",text:e.data.message}),console.log(e),t.deleteStoreDb(),t.$router.push({path:"/quiz/quiz-detail",query:{_id:t.quiz._id}})})).catch((function(e){console.log(e),t.$notify({group:"foo",title:"Opps !",text:e.response.data}),console.log(e.response)}))},_actionGetStoreQuiz:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var s=e.db.transaction(["quizs"],"readonly");s.onerror=function(t){console.log("Error",t),r("Error")},s.oncomplete=function(e){console.log(e),t(a)};var n=s.objectStore("quizs"),a=[];n.openCursor().onsuccess=function(t){var e=t.target.result;e&&(a.push(e.value),e.continue(),console.log(a))}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),deleteIndexedDbByKey:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.id,s=this.db.transaction("quizs","readwrite"),s.onerror=function(t){console.log("Error",t)},s.oncomplete=function(t){console.log(t)},n=s.objectStore("quizs"),n.delete(r),this.quizs=[],this.listSoalFromCart(n);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteStoreDb:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var s=e.db.transaction(["quizs"],"readwrite");s.onerror=function(t){console.log("Error",t),r("Error")},s.oncomplete=function(e){console.log(e),t()};var n=s.objectStore("quizs");n.clear()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),listSoalFromCart:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this,e.openCursor().onsuccess=function(t){var e=t.target.result;e?(r.quizs.push(e.value),e.continue(),console.log("print value "+e.value)):console.log("No more entries")};case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getDb:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var s=window.indexedDB.open(e.DB_NAME,e.DB_VERSION);s.onerror=function(t){console.log("Error opening DB",t),r("Error")},s.onsuccess=function(e){console.log("Success Open DB 2"),t(e.target.result)},s.onupgradeneeded=function(t){console.log("onupgradeneeded");var e=t.target.result;if(!e.objectStoreNames.contains("quizs")&&!e.objectStoreNames.contains("ujians")){var r=e.createObjectStore("quizs",{autoIncrement:!0,keyPath:"id"}),s=e.createObjectStore("ujians",{autoIncrement:!0,keyPath:"id"});r.createIndex("quiz_id","quiz_id",{unique:!0}),s.createIndex("ujian_id","ujian_id",{unique:!0})}}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}},i=o,c=r("2877"),u=Object(c["a"])(i,s,n,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d208298.5de840c2.js.map