(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb8999c4"],{4229:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("h3",[a._v("Review Peserta Ujian")]),e("h5",[a._v(a._s(a.dataUjian.judul_ujian)+" - "+a._s(a.judul_sesi))])]),e("div",{staticClass:"col-md-3 justify mb-1",staticStyle:{"text-align":"-webkit-right","align-self":"flex-end"}},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-sm btn-dark mr-1",on:{click:a._actionDownloadRecap}},[a._v("\n          Download Rekap "),e("i",{staticClass:"fa fa-file-excel-o"})])])]),e("div",{staticClass:"col-md-12 card"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-md table-striped table-hover",staticStyle:{"font-size":"12px"},attrs:{id:"table-peserta"}},[e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.selectAll)?a._i(a.selectAll,null)>-1:a.selectAll},on:{click:a.select,change:function(t){var e=a.selectAll,s=t.target,i=!!s.checked;if(Array.isArray(e)){var n=null,l=a._i(e,n);s.checked?l<0&&(a.selectAll=e.concat([n])):l>-1&&(a.selectAll=e.slice(0,l).concat(e.slice(l+1)))}else a.selectAll=i}}})]),e("th",[a._v("\n                No\n              ")]),e("th",{staticClass:"text-center"},[a._v("Nama")]),e("th",{staticClass:"text-center"},[a._v("\n                Email\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Total Soal\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                PG Dijawab\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Essay Dijawab\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Jawaban di review\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Skor PG\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Skor Essay\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Nilai Akhir\n              ")]),e("th",{staticClass:"text-center"},[a._v("\n                Actions\n              ")])])]),a.dataPeserta.length>0?e("tbody",{staticClass:"text-center"},a._l(a.dataPeserta,(function(t,s){return e("tr",{key:s},[0==t.isReviewed?e("th",[e("input",{attrs:{type:"checkbox",disabled:""}})]):e("th",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(a.selected)?a._i(a.selected,t)>-1:a.selected},on:{change:function(e){var s=a.selected,i=e.target,n=!!i.checked;if(Array.isArray(s)){var l=t,c=a._i(s,l);i.checked?c<0&&(a.selected=s.concat([l])):c>-1&&(a.selected=s.slice(0,c).concat(s.slice(c+1)))}else a.selected=n}}})]),e("th",[a._v("\n                "+a._s(s+1)+"\n              ")]),e("td",[a._v(a._s(t.nama_peserta))]),e("td",[a._v(a._s(t.email))]),e("td",[a._v(a._s(t.total_soal_all))]),e("td",[a._v(a._s(t.dijawab_pg)+"/"+a._s(t.total_soal_pg))]),e("td",[a._v(a._s(t.dijawab_esay)+"/"+a._s(t.total_soal_esay))]),e("td",[a._v(a._s(t.jawaban_di_review)+"/"+a._s(t.dijawab_esay))]),e("td",[t.skor_pg>=70?e("span",{staticClass:"badge badge-success",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.skor_pg)+"/100\n                ")]):t.skor_pg<=70?e("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.skor_pg)+"/100\n                ")]):a._e()]),e("td",[t.skor_esay>=70?e("span",{staticClass:"badge badge-success",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.skor_esay)+"/100\n                ")]):t.skor_esay<=70?e("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.skor_esay)+"/100\n                ")]):a._e()]),1==t.isReviewed?e("td",[t.nilai_akhir>=70?e("span",{staticClass:"badge badge-success",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.nilai_akhir)+"\n                ")]):t.nilai_akhir<=70?e("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"12px"}},[a._v("\n                  "+a._s(t.nilai_akhir)+"\n                ")]):a._e()]):0==t.isReviewed?e("td",[a._v("\n                Belum di Nilai\n              ")]):a._e(),0==t.isReviewed?e("td",{staticClass:"text-center"},[e("span",{staticClass:"badge badge-info btn text-white",staticStyle:{"font-size":"12px"},on:{click:function(e){return a._actionReviewNilaiPeserta(t.user_id)}}},[a._v("\n                  Beri Nilai Peserta")])]):0==t.jumlah_soal?e("td",{staticClass:"text-center"},[e("span",{staticClass:"badge badge-info text-white",staticStyle:{"font-size":"12px"}},[a._v("Tidak Ada Review")])]):e("td",{staticClass:"text-center"},[e("span",{staticClass:"badge badge-primary btn text-white mb-1",staticStyle:{"font-size":"12px"},on:{click:function(e){return a._actionReviewNilaiPeserta(t.user_id)}}},[a._v("Edit Nilai Peserta")]),e("button",{staticClass:"badge badge-success btn ml-2 mt-md-0 mt-1",staticStyle:{"font-size":"12px"},on:{click:function(e){return a._actionSendEmail(t)}}},[e("i",{staticClass:"fa fa-paper-plane"}),a._v(" Kirim Email\n                ")])])])})),0):e("tbody",[a._m(0)])])])]),""!=a.selected?e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-success",on:{click:a._actionShowModalEmail}},[e("i",{staticClass:"fa fa-envelope"}),a._v("\n        Kirim Multiple Email\n      ")]),e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"",title:"Kirim Email Ke","header-bg-variant":"info"},model:{value:a.modalEmail,callback:function(t){a.modalEmail=t},expression:"modalEmail"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[a._l(a.selected,(function(t){return e("span",{key:t.user_id,staticClass:"badge badge-info text-white m-1",staticStyle:{"font-size":"14px"}},[a._v("\n                "+a._s(t.email)+"\n              ")])})),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:a._actionPostEmail}},[e("i",{staticClass:"fa fa-paper-plane"}),a._v("\n                  Ya!\n                ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(t){a.modalEmail=!1}}},[e("i",{staticClass:"fa fa-close"}),a._v("\n                  Tidak!\n                ")])])],2)])])],1)]):a._e(),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"","hide-header":""},model:{value:a.modalEmailPersonal,callback:function(t){a.modalEmailPersonal=t},expression:"modalEmailPersonal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("p",[a._v("Kirim Email ke:")]),e("span",[a._v(a._s(a.dataEmail))]),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:a._actionPostEmailPersonal}},[e("i",{staticClass:"fa fa-paper-plane"}),a._v("\n                  Ya!\n                ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(t){a.modalEmailPersonal=!1}}},[e("i",{staticClass:"fa fa-close"}),a._v("\n                  Tidak!\n                ")])])])])])],1)])])])},i=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("tr",{staticClass:"text-center"},[e("td",{attrs:{colspan:"11"}},[a._v("Tidak ada data Peserta")])])}],n=(e("ac6a"),e("1146")),l=e.n(n),c=e("8055"),o=e.n(c),d={name:"ReviewPesertaUjianPublisher",data:function(){return{ujian_id:null,sesi_id:null,token:null,dataPeserta:[],selected:[],selectAll:!1,modalEmail:!1,modalEmailPersonal:!1,dataEmail:[],dataEmailPersonal:{},dataSelected:{},dataUjian:[],judul_sesi:""}},mounted:function(){this.token=sessionStorage.getItem("session_token");var a=this.$route.query.ujian_id,t=this.$route.query.sesi_ujian;this.sesi_id=t,this.ujian_id=a,this._actionGetPeserta()},methods:{_actionRealtime:function(){var a=o()("https://api-tryout.edutore.net");a.on("email_sent",function(a){a&&this.$notify({group:"foo",title:"Berhasik kirim email ke",text:a.info.email})}.bind(this))},_actionGetPeserta:function(){var a=this;this.$axios.get("review-sesi-ujian/peserta-sesi?ujian_id="+this.ujian_id+"&sesi_id="+this.sesi_id,{headers:{"x-access-token":this.token}}).then((function(t){"true"==t.data.success&&(a.dataPeserta=t.data.data,a.dataUjian=t.data.ujian,a.judul_sesi=t.data.sesi_ujian)})).catch((function(a){return console.log(a)}))},_actionReviewNilaiPeserta:function(a){this.$router.push({path:"/p/ujian/assesment-sesi-ujian/",query:{ujian_id:this.ujian_id,sesi_id:this.sesi_id,user_id:a}})},_actionDownloadRecap:function(){var a=l.a.utils.book_new();a.Props={Title:"Export Data Filter",Subject:"REKAP",Author:"EDUTORE",CreatedDate:new Date};var t=[],e=this.dataPeserta;if(e.length<1)this.$notify({group:"foo",type:"error",title:"Opss .. ",text:"Tidak ada data yang di rekap"});else{var s=["No","Nama","Email","Total Soal","PG Dijawab","Essay Dijawab","Jawaban di review","Skor PG","Skor Essay","Nilai Akhir"],i=[{wch:8},{wch:35},{wch:40},{wch:30},{wch:30},{wch:30},{wch:30},{wch:30},{wch:40},{wch:30}];t.push(s);var n=0;e.forEach((function(a){var e=[++n,a.nama_peserta,a.email,a.total_soal_all,a.total_soal_pg+"/"+a.dijawab_pg,a.total_soal_esay+"/"+a.dijawab_esay,a.jawaban_di_review+"/"+a.dijawab_esay,a.skor_pg,a.skor_esay,a.nilai_akhir];t.push(e)}));var c=l.a.utils.aoa_to_sheet(t);c["!cols"]=i;var o="review_peserta_ujian";l.a.utils.book_append_sheet(a,c,"REKAP"),l.a.writeFile(a,"rekap_"+o+".xlsx")}},select:function(){if(this.selected=[],!this.selectAll)for(var a in this.dataPeserta)!0===this.dataPeserta[a].isReviewed&&this.selected.push(this.dataPeserta[a])},_actionShowModalEmail:function(){var a=this;this.modalEmail=!0;var t=[];this.selected.forEach((function(e){t.push({email:e.email,nama_peserta:e.nama_peserta,judul_ujian:a.dataUjian.judul_ujian,sesi_ujian:a.judul_sesi,penyelenggara:a.dataUjian.penyelenggara,start_date:a.dataUjian.start_date,times:a.dataUjian.times,end_times:a.dataUjian.end_times,jumlah_soal:e.total_soal_pg,skor:e.nilai_akhir,jawaban_benar:e.point_pg,jawaban_salah:e.total_soal_pg-e.point_pg})})),this.dataSelected=t},_actionPostEmail:function(){var a=this,t=this.dataSelected;this.$axios.post("send-email-ujian/sesi-ujian",t,{headers:{"x-access-token":this.token}}).then((function(t){"true"===t.data.success&&a._actionRealtime()})).catch((function(t){console.log(t),a.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.modalEmail=!1,this.selected=[],this.selectAll=!1,this.dataSelected={}},_actionSendEmail:function(a){this.dataEmail=a.email,this.modalEmailPersonal=!0;var t=[];t.push({email:a.email,nama_peserta:a.nama_peserta,judul_ujian:this.dataUjian.judul_ujian,sesi_ujian:this.judul_sesi,penyelenggara:this.dataUjian.penyelenggara,start_date:this.dataUjian.start_date,times:this.dataUjian.times,end_times:this.dataUjian.end_times,jumlah_soal:a.total_soal_pg,skor:a.nilai_akhir,jawaban_benar:a.point_pg,jawaban_salah:a.total_soal_pg-a.point_pg}),this.dataEmailPersonal=t},_actionPostEmailPersonal:function(){var a=this,t=this.dataEmailPersonal;this.$axios.post("send-email-ujian/sesi-ujian",t,{headers:{"x-access-token":this.token}}).then((function(t){"true"===t.data.success&&a._actionRealtime()})).catch((function(t){console.log(t),a.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.modalEmailPersonal=!1,this.dataEmailPersonal={}}}},r=d,_=(e("7f06"),e("2877")),u=Object(_["a"])(r,s,i,!1,null,"025b6727",null);t["default"]=u.exports},"795b":function(a,t,e){},"7f06":function(a,t,e){"use strict";var s=e("795b"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-eb8999c4.6c82d0c9.js.map