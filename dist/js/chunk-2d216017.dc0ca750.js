(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216017"],{c12e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._v("\n        "+t._s(t.sesi.sesi_ujian)+" || sesi "+t._s(t.sesi._id)+"\n        "),a("form",{on:{submit:function(e){return e.preventDefault(),t._actionStored(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Nama Ujian ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.ujian.judul_ujian)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Premium ")]),a("div",{staticClass:"col-sm-8"},[t.ujian.is_premium?a("span",{staticClass:"badeg badge-success"},[t._v(" Premium ")]):a("span",{staticClass:"badge badge-primary font-xl"},[t._v(" Free ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Tipe Ujian ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.ujian.type_ujian)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Penyelenggara Ujian ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.ujian.penyelenggara)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Sesi Ujian ")]),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sesi.sesi_ujian,expression:"sesi.sesi_ujian"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.sesi.sesi_ujian},on:{input:function(e){e.target.composing||t.$set(t.sesi,"sesi_ujian",e.target.value)}}})])]),t._m(0)])])])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-sm table-bordered table-striped table-hover"},[t._m(1),a("tbody",{staticStyle:{color:"black"}},[t._l(t.SoalUjian,(function(e,s){return[a("tr",{key:e.value.id},[a("td",[t._v(t._s((t.currentPage-1)*t.perPage+ ++s))]),a("td",[a("p",{domProps:{innerHTML:t._s(e.value.soal_text)}})]),a("td",[e.value.soal_image?a("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:t.pathImagesQ+e.value.soal_image,expression:"pathImagesQ + item.value.soal_image",modifiers:{container:!0}}],staticStyle:{heigth:"60pxwidth:auto","max-width":"200px"},attrs:{alt:e.value.soal_image,srcset:""}}):t._e()]),a("td",[t._v(t._s(e.value.type_soal))]),a("td",[t._v(t._s(e.value.category_id))]),a("td",[t._v(t._s(e.value.matpel_id))]),a("td",[t._v(t._s(e.value.type_soal))]),a("td",[t._v(t._s(e.value.publisher_id))]),a("td",[a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return t.deleteIndexDbkey(e)}}},[a("i",{staticClass:"fa fa-trash"})])])])]}))],2)])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row justify-content-center"},[a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-block btn-primary"},[a("i",{staticClass:"fa fa-save"}),t._v(" Update")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("No")]),a("th",[t._v("Soal Text")]),a("th",[t._v("Soal Image")]),a("th",[t._v("Tipe Soal")]),a("th",[t._v("Category")]),a("th",[t._v("Matapelajaran")]),a("th",[t._v("Tipe Soal")]),a("th",[t._v("Publisher")]),a("th",[t._v("Hapus")])])])}],i=(a("ac6a"),a("96cf"),a("3b8d")),r={name:"AddSoalUjian",data:function(){return{items:[],SoalUjian:[],sesi:{},ujian:{},ujian_id:null,currentPage:1,perPage:100,totalRows:0,isLoading:!1,token:null,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",db:null,sesi_id:null}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.token=sessionStorage.getItem("session_token"),e=this.$route.query._id,this._actionGetUjianByid(e),t.next=5,this.getDb();case 5:this.db=t.sent;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{_actionGetUjianByid:function(t){var e=this;this.$axios.get("publisher-sesi-ujian/".concat(t),{headers:{"x-access-token":this.token}}).then((function(t){var a=t.data;"true"===t.data.success&&(e.sesi=a.data,e.ujian=a.data.ujian_id,e.ujian_id=e.ujian.ujian_id._id,e.sesi_id=e.sesi._id),e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},_actionStored:function(){var t=this,e=[];this.SoalUjian.forEach((function(t){e.push(t.value)}));var a={ujian_id:this.ujian._id,sesi_id:this.sesi._id,soal:e};this.$axios.post("publisher-soal-ujian/sub-soal",a,{headers:{"x-access-token":this.token}}).then((function(e){t.$notify({group:"foo",type:"success",title:"Success ",text:e.data.message}),t.deleteStoreDb(),t.$router.push({path:"/p/ujian/ujian-detail",query:{_id:t.ujian._id}})})).catch((function(e){console.log(e),t.$notify({group:"foo",title:"Opps !",text:"Something Wrong"})}))},getDb:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var s=window.indexedDB.open("Ujian",3);window.indexedDB||alert("Browser anda tidak mendukung IndexDB"),s.onerror=function(t){console.log("Error opening DB",t),a("Error")},s.onsuccess=function(a){console.log("Success Open DB"),t(a.target.result);var n=s.result,i=n.transaction("ujian","readwrite"),r=i.objectStore("ujian");e.coutIndexDb(r),e.listSoalCart(r)},s.onupgradeneeded=function(t){console.log("onupgradeneeded");var e=t.target.result;if(!e.objectStoreNames.contains("ujian")){var a=e.createObjectStore("ujian",{autoIncrement:!0,keyPath:"id"});a.createIndex("soal_id","soal_id",{unique:!0})}}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),coutIndexDb:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("count indexDB"),a=this,s=e.count(),s.onsuccess=function(){console.log(s.result),a.totalCart=s.result};case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),listSoalCart:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this,e.openCursor().onsuccess=function(t){var e=t.target.result;e?(a.SoalUjian.push(e.value),e.continue(),console.log("print value "+e.value)):console.log("No more entries!")};case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteIndexDbkey:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),a=e.id,s=this.db.transaction("ujian","readwrite"),s.onerror=function(t){console.log("Error",t)},s.oncomplete=function(t){console.log(t)},n=s.objectStore("ujian"),n.delete(a),this.SoalUjian=[],this.listSoalCart(n);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteStoreDb:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var s=e.db.transaction(["ujian"],"readwrite");s.onerror=function(t){console.log("Error",t),a("Error")},s.oncomplete=function(e){console.log(e),t()};var n=s.objectStore("ujian");n.clear()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}},o=r,c=a("2877"),u=Object(c["a"])(o,s,n,!1,null,"11e1466c",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d216017.dc0ca750.js.map