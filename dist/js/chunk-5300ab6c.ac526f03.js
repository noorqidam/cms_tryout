(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5300ab6c"],{"012b":function(t,a,e){},"340d":function(t,a,e){"use strict";var s=e("012b"),i=e.n(s);i.a},"5a7f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"card col-12 col-md-3",staticStyle:{"max-height":"250px"}},[e("table",{staticClass:"bg-white table table-hover"},[e("thead",[t._m(1),e("tr",[e("td",[t._v("Total Peserta")]),e("td",[t._v("\n              "+t._s(t.dataQuiz.peserta)+"\n            ")])]),e("tr",[e("td",[t._v("Lulus")]),e("td",[t._v("\n              "+t._s(t.dataQuiz.lulus)+"\n            ")])]),e("tr",[e("td",[t._v("Tidak Lulus")]),e("td",[t._v("\n              "+t._s(t.dataQuiz.tidakLulus)+"\n            ")])])])]),""!=t.selected?e("button",{staticClass:"btn btn-success mb-2",on:{click:t._actionShowModalEmail}},[e("i",{staticClass:"fa fa-envelope"}),t._v("\n        Kirim Multiple Email\n      ")]):t._e()]),e("div",{staticClass:"col-12 col-md-8 card ml-md-5 scrollable"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover"},[e("thead",{staticClass:"thead-dark"},[e("tr",[e("th",{attrs:{scope:"col-1"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var l=null,n=t._i(e,l);s.checked?n<0&&(t.selectAll=e.concat([l])):n>-1&&(t.selectAll=e.slice(0,n).concat(e.slice(n+1)))}else t.selectAll=i}}})]),e("th",{attrs:{scope:"col-1"}},[t._v("No")]),e("th",{attrs:{scope:"col-1"}},[t._v("Nama")]),e("th",{attrs:{scope:"col-1"}},[t._v("Email")]),e("th",{attrs:{scope:"col-1"}},[t._v("Sekolah")]),e("th",{attrs:{scope:"col-1"}},[t._v("Kelas")]),e("th",{attrs:{scope:"col-1"}},[t._v("Skor")]),e("th",{attrs:{scope:"col-1"}},[t._v("Actions")])])]),t.dataPeserta?e("tbody",t._l(t.dataPeserta,(function(a,s){return e("tr",{key:s},[e("th",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.selected)?t._i(t.selected,a)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,l=!!i.checked;if(Array.isArray(s)){var n=a,c=t._i(s,n);i.checked?c<0&&(t.selected=s.concat([n])):c>-1&&(t.selected=s.slice(0,c).concat(s.slice(c+1)))}else t.selected=l}}})]),e("th",[t._v("\n                "+t._s(s+1)+"\n              ")]),e("td",[t._v(t._s(a.name))]),e("td",[t._v("\n                "+t._s(a.email)+"\n              ")]),e("td",[t._v(t._s(a.nama_sekolah))]),"No Data"==a.kelas?e("td",[t._v("\n                "+t._s(a.kelas)+"\n              ")]):e("td",[t._v(t._s(a.kelas))]),a.score>=70?e("td",[e("span",{staticClass:"badge badge-success",staticStyle:{"font-size":"11px"}},[t._v("\n                  "+t._s(a.score)+"\n                ")])]):a.score<70?e("td",[e("span",{staticClass:"badge badge-danger",staticStyle:{"font-size":"11px"}},[t._v("\n                  "+t._s(a.score)+"\n                ")])]):t._e(),e("td",[e("button",{staticClass:"badge badge-success btn ml-2",staticStyle:{"font-size":"11px"},on:{click:function(e){return t._actionSendEmail(a)}}},[t._v("\n                  Kirim Email\n                ")])])])})),0):e("tbody",[t._m(2)])])])]),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"","hide-header":""},model:{value:t.modalEmailPersonal,callback:function(a){t.modalEmailPersonal=a},expression:"modalEmailPersonal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("h5",[t._v("Kirim Email ke:")]),e("span",[t._v(t._s(t.dataEmail))]),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:t._actionPostEmailPersonal}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v("\n                  Ya!\n                ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(a){t.modalEmailPersonal=!1}}},[e("i",{staticClass:"fa fa-close"}),t._v("\n                  Tidak!\n                ")])])])])])],1)]),""!=t.selected?e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"","hide-header":"",scrollable:""},model:{value:t.modalEmail,callback:function(a){t.modalEmail=a},expression:"modalEmail"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("h5",[t._v("Kirim Email ke:")]),t._l(t.selected,(function(a){return e("span",{key:a.user_id,staticClass:"badge badge-info text-white m-1",staticStyle:{"font-size":"16px"}},[t._v("\n                "+t._s(a.email)+"\n              ")])})),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:t._actionPostEmail}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v("\n                  Ya!\n                ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(a){t.modalEmail=!1}}},[e("i",{staticClass:"fa fa-close"}),t._v("\n                  Tidak!\n                ")])])],2)])])],1)]):t._e()])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12 mb-3"},[e("h3",[t._v("Detail Report Quiz")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",{staticClass:"text-center bg-info"},[e("td",{attrs:{colspan:"2"}},[t._v("\n              Rekap Quiz\n            ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",{staticClass:"text-center",attrs:{colspan:"8"}},[t._v("Tidak ada data peserta")])])}],l=(e("ac6a"),e("7f7f"),e("8055")),n=e.n(l),c={name:"reportDetailQuiz",data:function(){return{quiz_id:null,dataPeserta:[],dataQuiz:[],modalEmailPersonal:!1,modalEmail:!1,dataEmail:[],selected:[],selectAll:!1,dataSelected:{},dataEmailPersonal:{},dataDetailQuiz:[]}},mounted:function(){this.token=sessionStorage.getItem("session_token"),this.quiz_id=this.$route.params.quiz_id,this._actionGetReportQuiz()},methods:{_actionRealtime:function(){var t=n()("https://api-tryout.edutore.net");t.on("email_sent",function(t){t&&this.$notify({group:"foo",title:"Berhasik kirim email ke",text:t.info.email})}.bind(this))},_actionGetReportQuiz:function(){var t=this,a={quiz_id:this.quiz_id};this.$axios.post("rating-peserta-quiz",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"===a.data.success&&(t.dataQuiz=a.data.data,t.dataPeserta=t.dataQuiz.ratingNilai,t.dataDetailQuiz=a.data.quiz)})).catch((function(t){return console.log(t)}))},_actionSendEmail:function(t){this.dataEmail=t.email,this.modalEmailPersonal=!0;var a=[];a.push({email:this.dataEmail,nama_peserta:t.name,judul_quiz:this.dataDetailQuiz.judul_quiz,penyelenggara:this.dataDetailQuiz.penyelenggara,start_date:this.dataDetailQuiz.start_date,times:this.dataDetailQuiz.times,end_times:this.dataDetailQuiz.end_times,jumlah_soal:t.totalSoal,skor:t.score,jawaban_benar:t.jawaban_benar,jawaban_salah:t.jawaban_salah}),this.dataEmailPersonal=a},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.dataPeserta)this.selected.push(this.dataPeserta[t])},_actionShowModalEmail:function(){var t=this;this.modalEmail=!0;var a=[];this.selected.forEach((function(e){a.push({email:e.email,nama_peserta:e.name,judul_quiz:t.dataDetailQuiz.judul_quiz,penyelenggara:t.dataDetailQuiz.penyelenggara,start_date:t.dataDetailQuiz.start_date,times:t.dataDetailQuiz.times,end_times:t.dataDetailQuiz.end_times,jumlah_soal:e.totalSoal,skor:e.score,jawaban_benar:e.jawaban_benar,jawaban_salah:e.jawaban_salah})})),this.dataSelected=a},_actionPostEmail:function(){var t=this,a=this.dataSelected;this.$axios.post("send-email-quiz",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"===a.data.success&&t._actionRealtime()})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.modalEmail=!1,this.selected=[],this.selectAll=!1,this.dataSelected={}},_actionPostEmailPersonal:function(){var t=this,a=this.dataEmailPersonal;this.$axios.post("send-email-quiz",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"===a.data.success&&t._actionRealtime()})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.modalEmailPersonal=!1,this.dataEmailPersonal={}}}},o=c,d=(e("340d"),e("2877")),r=Object(d["a"])(o,s,i,!1,null,"7fb2fa04",null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-5300ab6c.ac526f03.js.map