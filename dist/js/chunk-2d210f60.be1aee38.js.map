{"version":3,"sources":["webpack:///./src/components/Publishers/monitoring/quiz/TriggerSoalQuiz.vue?bab6","webpack:///src/components/Publishers/monitoring/quiz/TriggerSoalQuiz.vue","webpack:///./src/components/Publishers/monitoring/quiz/TriggerSoalQuiz.vue?a27b","webpack:///./src/components/Publishers/monitoring/quiz/TriggerSoalQuiz.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","items","judul_quiz","showButton","_e","attrs","max","timer","on","$event","_actionStopQuiz","_m","_l","item","no","key","_id","type_soal","category_id","matpel_id","_actionTriggerSoal","staticRenderFns","name","data","soals","countdown","mounted","token","sessionStorage","getItem","id","_actionGetDetail","methods","$axios","soal","_actionDeleteSoal","dataAkhir","actionCounterTimeButton","maxtime","setInterval","clearInterval","quiz_id","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,MAAMC,iBAAiBN,EAAG,MAAM,CAACE,YAAY,aAAa,CAAGN,EAAIW,WAAgKX,EAAIY,KAAxJR,EAAG,aAAa,CAACS,MAAM,CAAC,IAAMb,EAAIc,IAAI,OAAS,SAAS,CAACV,EAAG,iBAAiB,CAACS,MAAM,CAAC,MAAQb,EAAIe,QAAQ,CAACf,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIe,OAAO,UAAU,IAAa,GAAGX,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,gBAAgBlB,EAAIS,UAAU,CAACL,EAAG,IAAI,CAACE,YAAY,eAAeN,EAAIO,GAAG,4BAA4BH,EAAG,QAAQ,CAACE,YAAY,2DAA2D,CAACN,EAAImB,GAAG,GAAGf,EAAG,QAAQ,CAACJ,EAAIoB,GAAIpB,EAAS,OAAE,SAASqB,EAAKC,GAAI,MAAO,CAAClB,EAAG,KAAK,CAACmB,IAAIF,EAAKG,KAAK,CAACpB,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIO,GAAGP,EAAIQ,KAAKc,MAAOlB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGa,EAAKG,QAAQpB,EAAG,KAAK,CAACJ,EAAIO,GAAG,qBAAqBP,EAAIQ,GAAGa,EAAKI,WAAW,sBAAsBrB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGa,EAAKK,gBAAgBtB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGa,EAAKM,cAAcvB,EAAG,KAAK,CAAEJ,EAAc,WAAEI,EAAG,SAAS,CAACE,YAAY,4BAA4BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI4B,mBAAmBP,MAAS,CAACjB,EAAG,IAAI,CAACE,YAAY,yBAAyBN,EAAIY,cAAa,YAC71CiB,EAAkB,CAAC,WAAa,IAAI7B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACJ,EAAIO,GAAG,cAAcH,EAAG,KAAK,CAACJ,EAAIO,GAAG,eAAeH,EAAG,KAAK,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,mBAAmBH,EAAG,KAAK,CAACJ,EAAIO,GAAG,sBCwD1S,GACEuB,KAAM,2BACNC,KAFF,WAGI,MAAO,CACLC,MAAO,GACPvB,MAAO,GACPE,YAAY,EACZG,IAAK,EACLC,MAAO,EACPkB,UAAW,OAGfC,QAZF,WAaIjC,KAAKkC,MAAQC,eAAeC,QAAQ,iBAEpC,IAAJ,wBACIpC,KAAKuB,IAAMc,EACXrC,KAAKsC,iBAAiBD,IAExBE,QAAS,CACPD,iBADJ,SACA,cACMtC,KAAKwC,OACX,IADA,8BACA,IAAQ,QAAR,gCACA,kBACQ,QAAR,iBACQ,EAAR,0BACQ,EAAR,wBACQ,EAAR,2BAEA,mBACQ,QAAR,WAGIb,mBAdJ,SAcA,cACA,GACQc,KAAMrB,GAERpB,KAAKwC,OACX,4BAAQ,QAAR,gCACA,kBACA,yBACU,EAAV,yBACU,EAAV,0BACU,EAAV,SACY,MAAZ,MACY,MAAZ,UACY,KAAZ,UACY,KAAZ,4BAIA,mBACQ,QAAR,WAGIE,kBApCJ,SAoCA,GACM,IAAN,oDACM1C,KAAK+B,MAAQY,GAEfC,wBAxCJ,WAwCA,WACA,aACM5C,KAAKU,YAAa,EAElB,IAAN,4BACMV,KAAKa,IAAMgC,EACX7C,KAAKc,MAAQ+B,EACb7C,KAAKgC,UAAYc,aAAY,WAC3B,EAAR,QACA,IAAY,EAAZ,QACU,EAAV,cACUC,cAAc,EAAxB,cAEA,MAEI9B,gBAvDJ,WAuDA,WACA,GACQ+B,QAAShD,KAAKQ,MAAMe,KAEtBvB,KAAKwC,OACX,uCAAQ,QAAR,gCACA,kBACA,wBACU,EAAV,SACY,MAAZ,MACY,MAAZ,UACY,KAAZ,UACY,KAAZ,oBAIA,mBACQ,QAAR,aCpJsY,I,YCOlYS,EAAY,eACd,EACAnD,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAqB,E","file":"js/chunk-2d210f60.be1aee38.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h5',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.items.judul_quiz))])]),_c('div',{staticClass:\"col-md-12\"},[(!_vm.showButton)?_c('b-progress',{attrs:{\"max\":_vm.max,\"height\":\"1rem\"}},[_c('b-progress-bar',{attrs:{\"value\":_vm.timer}},[_vm._v(\" \"+_vm._s(_vm.timer)+\" s \")])],1):_vm._e()],1),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"table-responsive\"},[_c('button',{staticClass:\"btn btn-sm btn-danger m-1\",on:{\"click\":function($event){return _vm._actionStopQuiz(_vm.items)}}},[_c('i',{staticClass:\"fa fa-stop\"}),_vm._v(\" Hentikan Quiz\\n      \")]),_c('table',{staticClass:\"table table-md table-bordered table-hover table-striped\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.soals),function(item,no){return [_c('tr',{key:item._id},[_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(++no))]),_c('td',[_vm._v(_vm._s(item._id))]),_c('td',[_vm._v(\"\\n                \"+_vm._s(item.type_soal)+\"\\n              \")]),_c('td',[_vm._v(_vm._s(item.category_id))]),_c('td',[_vm._v(_vm._s(item.matpel_id))]),_c('td',[(_vm.showButton)?_c('button',{staticClass:\"btn btn-block btn-primary\",on:{\"click\":function($event){return _vm._actionTriggerSoal(item)}}},[_c('i',{staticClass:\"fa fa-toggle-right\"})]):_vm._e()])])]})],2)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"No\")]),_c('th',[_vm._v(\"Soal Key\")]),_c('th',[_vm._v(\"Tipe Soal\")]),_c('th',[_vm._v(\"Kategori Soal\")]),_c('th',[_vm._v(\"Matapelajaran\")]),_c('th',[_vm._v(\"Kirim Soal\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <h5 class=\"text-center\">{{ items.judul_quiz }}</h5>\n    </div>\n    <div class=\"col-md-12\">\n      <b-progress v-if=\"!showButton\" :max=\"max\" height=\"1rem\">\n        <b-progress-bar :value=\"timer\"> {{ timer }} s </b-progress-bar>\n        <!-- <div id=\"\" /> -->\n      </b-progress>\n    </div>\n    <div class=\"col-md-12\">\n      <div class=\"table-responsive\">\n        <button class=\"btn btn-sm btn-danger m-1\" @click=\"_actionStopQuiz(items)\">\n          <i class=\"fa fa-stop\"></i> Hentikan Quiz\n        </button>\n\n        <table class=\"table table-md table-bordered table-hover table-striped\">\n          <thead>\n            <tr>\n              <th>No</th>\n              <th>Soal Key</th>\n              <th>Tipe Soal</th>\n              <th>Kategori Soal</th>\n              <th>Matapelajaran</th>\n              <th>Kirim Soal</th>\n            </tr>\n          </thead>\n          <tbody>\n            <template v-for=\"(item, no) in soals\">\n              <tr :key=\"item._id\">\n                <td class=\"text-center\">{{ ++no }}</td>\n                <td>{{ item._id }}</td>\n                <td>\n                  {{ item.type_soal }}\n                </td>\n                <td>{{ item.category_id }}</td>\n                <td>{{ item.matpel_id }}</td>\n                <td>\n                  <button\n                    v-if=\"showButton\"\n                    class=\"btn btn-block btn-primary\"\n                    @click=\"_actionTriggerSoal(item)\"\n                  >\n                    <i class=\"fa fa-toggle-right\"></i>\n                  </button>\n                </td>\n              </tr>\n            </template>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TriggerSoalQuizPublisher\",\n  data() {\n    return {\n      soals: [],\n      items: {},\n      showButton: true,\n      max: 0,\n      timer: 0,\n      countdown: null\n    };\n  },\n  mounted() {\n    this.token = sessionStorage.getItem(\"session_token\");\n    // const auth = sessionStorage.getItem(\"authorized\");\n    const id = this.$route.query._id;\n    this._id = id;\n    this._actionGetDetail(id);\n  },\n  methods: {\n    _actionGetDetail(id) {\n      this.$axios\n        .get(`publisher-live-quiz/${id}`, { headers: { \"x-access-token\": this.token } })\n        .then(response => {\n          console.log(response.data.data);\n          this.items = response.data.data.quiz_id;\n          this.max = this.items.durasi_soal;\n          this.soals = response.data.data.soals;\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    _actionTriggerSoal(item) {\n      const dataSoal = {\n        soal: item\n      };\n      this.$axios\n        .post(\"trigger-soal-quiz\", dataSoal, { headers: { \"x-access-token\": this.token } })\n        .then(response => {\n          if (response.data.success == \"true\") {\n            this._actionDeleteSoal(item._id);\n            this.actionCounterTimeButton();\n            this.$notify({\n              group: \"foo\",\n              title: \"Yay .. \",\n              type: \"success\",\n              text: \"Berhasil Kirim Soal\"\n            });\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    _actionDeleteSoal(id) {\n      const dataAkhir = this.soals.filter(item => item._id != id);\n      this.soals = dataAkhir;\n    },\n    actionCounterTimeButton() {\n      let quiz = this.items;\n      this.showButton = false;\n      // eslint-disable-next-line no-unused-vars\n      let maxtime = parseInt(quiz.durasi_soal) + 4;\n      this.max = maxtime;\n      this.timer = maxtime;\n      this.countdown = setInterval(() => {\n        this.timer--;\n        if (this.timer === 0) {\n          this.showButton = true;\n          clearInterval(this.countdown);\n        }\n      }, 1000);\n    },\n    _actionStopQuiz() {\n      const data = {\n        quiz_id: this.items._id\n      };\n      this.$axios\n        .post(\"trigger-soal-quiz/show-nilai\", data, { headers: { \"x-access-token\": this.token } })\n        .then(response => {\n          if (response.data.success == \"true\") {\n            this.$notify({\n              group: \"foo\",\n              title: \"Yay .. \",\n              type: \"success\",\n              text: response.data.message\n            });\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggerSoalQuiz.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TriggerSoalQuiz.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TriggerSoalQuiz.vue?vue&type=template&id=5f6b02f6&scoped=true&\"\nimport script from \"./TriggerSoalQuiz.vue?vue&type=script&lang=js&\"\nexport * from \"./TriggerSoalQuiz.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f6b02f6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}