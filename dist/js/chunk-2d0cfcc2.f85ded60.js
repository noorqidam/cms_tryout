(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfcc2"],{"64f4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t._actionStored(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Judul Quiz ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.judul_quiz)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Premium ")]),a("div",{staticClass:"col-sm-8"},[t.quiz.is_premium?a("span",{staticClass:"badeg badge-success"},[t._v(" Premium ")]):a("span",{staticClass:"badge badge-primary font-xl"},[t._v(" Free ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Kategori Quiz ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.category_quiz)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Tipe Quiz ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.type_quiz)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Tipe Start Quiz ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.type_start)+"\n            ")])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4",attrs:{for:""}},[t._v(" Penyelenggara Ujian ")]),a("div",{staticClass:"col-sm-8"},[t._v("\n              "+t._s(t.quiz.penyelenggara)+"\n            ")])]),t._m(0)])])])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-sm table-bordered table-striped table-hover"},[t._m(1),a("tbody",{staticStyle:{color:"black"}},[t._l(t.SoalQuiz,(function(e,s){return[a("tr",{key:e.id},[a("td",[t._v(t._s((t.currentPage-1)*t.perPage+ ++s))]),a("td",{domProps:{innerHTML:t._s(e.value.soal_text)}}),a("td",[e.value.soal_image?a("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:t.pathImagesQ+e.value.soal_image,expression:"pathImagesQ + soal.value.soal_image",modifiers:{container:!0}}],staticStyle:{heigth:"60pxwidth:auto","max-width":"200px"},attrs:{alt:e.value.soal_image,srcset:""}}):t._e()]),a("td",[t._v(t._s(e.value.category_id))]),a("td",[t._v(t._s(e.value.matpel_id))]),a("td",[t._v(t._s(e.value.publisher_id))]),a("td",[a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return t.deleteIndexDbkey(e)}}},[a("i",{staticClass:"fa fa-trash"})])])])]}))],2)])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row justify-content-center"},[a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-block btn-primary"},[a("i",{staticClass:"fa fa-save"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("No")]),a("th",[t._v("Soal Text")]),a("th",[t._v("Soal Image")]),a("th",[t._v("Category")]),a("th",[t._v("Matapelajaran")]),a("th",[t._v("Publisher")]),a("th",[t._v("Hapus")])])])}],n=(a("ac6a"),a("96cf"),a("3b8d")),o={name:"CartSoalQuizPublisher",data:function(){return{items:[],Form:{},quiz:{},currentPage:1,perPage:100,totalRows:0,isLoading:!1,token:null,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",errors_message:null,db:null,SoalQuiz:[]}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDb();case 2:this.db=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.token=sessionStorage.getItem("session_token");var t=this.$route.query._id;this._actionGetQuizByid(t)},methods:{_actionGetQuizByid:function(t){var e=this;this.$axios.get("publisher-quiz/"+t,{headers:{"x-access-token":this.token}}).then((function(t){var a=t.data;"true"===t.data.success&&(e.quiz=a.data),e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},_actionStored:function(){var t=this,e=[];this.SoalQuiz.forEach((function(t){e.push(t.value)}));var a={quiz_id:this.quiz._id,duration:this.Form.durations,soal:e};this.$axios.post("publisher-soal-quiz",a,{headers:{"x-access-token":this.token}}).then((function(e){t.$notify({group:"foo",title:"Success Add ",text:e.data.message}),t.deleteStoreDb(),t.$router.push({path:"/p/quiz/detail-quiz",query:{_id:t.quiz._id}})})).catch((function(e){console.log(e),t.$notify({group:"foo",title:"Opps !",text:e.response.data}),console.log(e.response)}))},getDb:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var s=window.indexedDB.open("soal_quiz",3);window.indexedDB||alert("Browser anda tidak mendukung IndexDB"),s.onerror=function(t){console.log("Error opening DB",t),a("Error")},s.onsuccess=function(a){console.log("Success Open DB"),t(a.target.result);var r=s.result,n=r.transaction("quizs","readwrite"),o=n.objectStore("quizs");e.coutIndexDb(o),e.listSoalCart(o)},s.onupgradeneeded=function(t){console.log("onupgradeneeded");var e=t.target.result;if(!e.objectStoreNames.contains("quizs")){var a=e.createObjectStore("quizs",{autoIncrement:!0,keyPath:"id"});a.createIndex("soal_id","soal_id",{unique:!0})}}})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),coutIndexDb:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("count indexDB"),a=this,s=e.count(),s.onsuccess=function(){console.log(s.result),a.totalCart=s.result};case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),listSoalCart:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this,e.openCursor().onsuccess=function(t){var e=t.target.result;e?(a.SoalQuiz.push(e.value),e.continue(),console.log("print value "+e.value)):console.log("No more entries!")};case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteIndexDbkey:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),a=e.id,s=this.db.transaction("quizs","readwrite"),s.onerror=function(t){console.log("Error",t)},s.oncomplete=function(t){console.log(t)},r=s.objectStore("quizs"),r.delete(a),this.SoalQuiz=[],this.listSoalCart(r);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),deleteStoreDb:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var s=e.db.transaction(["quizs"],"readwrite");s.onerror=function(t){console.log("Error",t),a("Error")},s.oncomplete=function(e){console.log(e),t()};var r=s.objectStore("quizs");r.clear()})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}},i=o,c=a("2877"),u=Object(c["a"])(i,s,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0cfcc2.f85ded60.js.map