(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-849ceba4"],{"1dd9":function(t,a,e){},"75c6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{class:t.classList},[e("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{value:t.value,checked:t.isChecked},on:{change:t.handleChange}}),t.isOn?[e("span",{staticClass:"switch-label",attrs:{"data-on":t.on,"data-off":t.off}})]:[e("span",{staticClass:"switch-label"})],e("span",{staticClass:"switch-handle"})],2)},i=[],n={model:{prop:"checked",event:"change"},props:{value:{default:!0},uncheckedValue:{default:!1},checked:{default:!1},type:{type:String,default:"default"},variant:{type:String,default:""},pill:{type:Boolean,default:!1},on:{type:String,default:null},off:{type:String,default:null},size:{type:String,default:null}},computed:{classList:function(){return["switch",this.switchType,this.switchVariant,this.switchPill,this.switchSize]},switchType:function(){return this.type?"switch-".concat(this.type):"switch-default"},switchVariant:function(){return this.variant?"switch-".concat(this.variant):"switch-secondary"},switchPill:function(){return this.pill?"switch-pill":null},switchSize:function(){return this.size?"switch-".concat(this.size):""},isChecked:function(){return this.checked===this.value},isOn:function(){return!!this.on||null}},methods:{handleChange:function(t){var a=t.target.checked;this.$emit("change",a?this.value:this.uncheckedValue)}}},o=n,r=e("2877"),l=Object(r["a"])(o,s,i,!1,null,null,null);a["a"]=l.exports},a957:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",[e("b-modal",{attrs:{title:"PERHATIAN!","ok-only":"",centered:""},model:{value:t.showModalAlert,callback:function(a){t.showModalAlert=a},expression:"showModalAlert"}},[e("p",{staticClass:"text-center"},[t._v("\n        Edit ujian gagal :(\n      ")]),e("p",{staticClass:"text-center"},[t._v("Pastikan sudah mengisi form edit ujian dengan benar.")])])],1),e("div",{staticClass:"col-sm-12"},[e("b-modal",{attrs:{"hide-footer":"",centered:"",title:"Upload Banner"},model:{value:t.showModalImage,callback:function(a){t.showModalImage=a},expression:"showModalImage"}},[e("form",{ref:"form",on:{submit:function(a){return a.preventDefault(),t.handleSubmit(a)}}},[t.banner?t._e():e("div",{staticClass:"col-sm-12"},[e("ValidationProvider",{ref:"provider",attrs:{name:"image",rules:"image|size:2000|ext:jpeg,jpg,png"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{staticClass:"form-control-file",attrs:{id:"upload",type:"file"},on:{change:t._changeFile}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!1,276510009)})],1),e("div",{staticClass:"row justify"},[t.banner?e("div",{staticClass:"col-sm-6"},[e("img",{staticClass:"img-thumbnail",attrs:{id:"imgsc",src:t.banner,alt:""}})]):t._e(),t.banner?e("div",{staticClass:"col-sm-2"},[e("span",{staticClass:"badge badge-danger btn btn-sm",on:{click:t._actionClearFile}},[t._v(" x ")])]):t._e()]),e("div",{staticClass:"row justify-content-center mt-2"},[e("div",{staticClass:"col-sm-5"},[e("button",{staticClass:"btn btn-block btn-primary"},[e("i",{staticClass:"fa fa-upload"}),t._v(" Upload")])])])])])],1),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("ValidationObserver",{ref:"form"},[e("form",{on:{submit:function(a){return a.preventDefault(),t._actionUpdate(a)}}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Nama Ujian ")]),e("div",{staticClass:"col-md-9"},[e("ValidationProvider",{attrs:{rules:"required|min:10"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.judul_ujian,expression:"Form.judul_ujian"}],staticClass:"form-control",attrs:{type:"text",name:"Judul Ujian"},domProps:{value:t.Form.judul_ujian},on:{input:function(a){a.target.composing||t.$set(t.Form,"judul_ujian",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}])})],1)]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Banner ")]),e("div",{staticClass:"col-sm-4"},[t.Form.ujian_banner?e("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:t.pathUjian+t.Form.ujian_banner,expression:"pathUjian + Form.ujian_banner",modifiers:{container:!0}}],staticClass:"img-thumbnail",attrs:{alt:t.Form.ujian_banner}}):t._e()]),e("div",{staticClass:"col-sm-auto"},[e("span",{staticClass:"fa fa-pencil",staticStyle:{cursor:"pointer"},on:{click:t.actionShowModal}},[t._v("\n                  Ganti Banner\n                ")])])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Tipe Ujian ")]),e("div",{staticClass:"col-sm-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.type_ujian,expression:"Form.type_ujian"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Form,"type_ujian",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("\n                    -- Pilih --\n                  ")]),e("option",{attrs:{value:"MANDIRI"}},[t._v("\n                    MANDIRI\n                  ")]),e("option",{attrs:{value:"BERSAMA"}},[t._v("\n                    BERSAMA\n                  ")])])]),e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Kategori Ujian ")]),e("div",{staticClass:"col-sm-2"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.category_ujian,expression:"Form.category_ujian"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Form,"category_ujian",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("\n                    -- Pilih --\n                  ")]),t._l(t.category_ujian,(function(a){return e("option",{key:a.id,domProps:{value:a.title}},[t._v("\n                    "+t._s(a.title)+"\n                  ")])}))],2)])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Tanggal Mulai Quiz ")]),e("div",{staticClass:"col-sm-3"},[e("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"example-datepicker",locale:"id"},model:{value:t.start_date,callback:function(a){t.start_date=a},expression:"start_date"}})],1),e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Tanggal Berakhir Quiz ")]),e("div",{staticClass:"col-sm-3"},[e("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"end_date",locale:"id"},model:{value:t.start_date,callback:function(a){t.start_date=a},expression:"start_date"}})],1)]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Mulai dari Jam ")]),e("div",{staticClass:"col-sm-2"},[e("vue-timepicker",{model:{value:t.Form.times,callback:function(a){t.$set(t.Form,"times",a)},expression:"Form.times"}})],1),e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Berakhir Pada Jam ")]),e("div",{staticClass:"col-sm-2"},[e("vue-timepicker",{model:{value:t.Form.end_times,callback:function(a){t.$set(t.Form,"end_times",a)},expression:"Form.end_times"}})],1)]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Metode Penilaian ")]),e("div",{staticClass:"col-sm-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.metode_penilaian,expression:"Form.metode_penilaian"}],staticClass:"form-control",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Form,"metode_penilaian",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("\n                    -- PIlih --\n                  ")]),e("option",{attrs:{value:"NORMAL"}},[t._v("\n                    NORMAL\n                  ")]),e("option",{attrs:{value:"UTBK"}},[t._v("\n                    UTBK\n                  ")]),e("option",{attrs:{value:"DINAMIS"}},[t._v("\n                    DINAMIS\n                  ")]),e("option",{attrs:{value:"BOBOT"}},[t._v("\n                    BOBOT\n                  ")])])])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Penyelenggara Ujian ")]),e("div",{staticClass:"col-sm-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.penyelenggara,expression:"Form.penyelenggara"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Form,"penyelenggara",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("\n                    -- Pilih --\n                  ")]),t._l(t.publishers,(function(a){return e("option",{key:a.id},[t._v("\n                    "+t._s(a.name)+"\n                  ")])}))],2)])]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Premium ")]),e("div",{staticClass:"col-sm-5"},[e("cswitch",{attrs:{type:"default",variant:"success",pill:!0,checked:!1},model:{value:t.Form.is_premium,callback:function(a){t.$set(t.Form,"is_premium",a)},expression:"Form.is_premium"}})],1)]),t.Form.is_premium?e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Harga "),e("small",[t._v(" (Rp)")])]),e("div",{staticClass:"col-sm-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.price,expression:"Form.price"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.Form.price},on:{input:function(a){a.target.composing||t.$set(t.Form,"price",a.target.value)}}})]),e("div",{staticClass:"col-sm-2"},[e("strong",{staticClass:"control-label"},[t._v(" "+t._s(t._formatPrice(t.Form.price)))])])]):t._e(),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Private ")]),e("div",{staticClass:"col-sm-5"},[e("cswitch",{attrs:{type:"default",variant:"success",pill:!0,checked:!1},model:{value:t.Form.is_private,callback:function(a){t.$set(t.Form,"is_private",a)},expression:"Form.is_private"}})],1)]),t.Form.is_private?e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Access PIN ")]),e("div",{staticClass:"col-sm-5"},["checkbox"===t.typeFiled?e("input",{directives:[{name:"model",rawName:"v-model",value:t.acces_pin,expression:"acces_pin"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.acces_pin)?t._i(t.acces_pin,null)>-1:t.acces_pin},on:{change:function(a){var e=t.acces_pin,s=a.target,i=!!s.checked;if(Array.isArray(e)){var n=null,o=t._i(e,n);s.checked?o<0&&(t.acces_pin=e.concat([n])):o>-1&&(t.acces_pin=e.slice(0,o).concat(e.slice(o+1)))}else t.acces_pin=i}}}):"radio"===t.typeFiled?e("input",{directives:[{name:"model",rawName:"v-model",value:t.acces_pin,expression:"acces_pin"}],staticClass:"form-control",attrs:{type:"radio"},domProps:{checked:t._q(t.acces_pin,null)},on:{change:function(a){t.acces_pin=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.acces_pin,expression:"acces_pin"}],staticClass:"form-control",attrs:{type:t.typeFiled},domProps:{value:t.acces_pin},on:{input:function(a){a.target.composing||(t.acces_pin=a.target.value)}}}),"password"===t.typeFiled?e("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password",staticStyle:{cursor:"pointer"},on:{click:t.showPin}}):e("span",{staticClass:"fa fa-fw fa-eye-slash field-icon toggle-password",staticStyle:{cursor:"pointer"},on:{click:t.showPin}})])]):t._e(),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Publish ")]),e("div",{staticClass:"col-sm-5"},[e("cswitch",{attrs:{type:"default",variant:"success",pill:!0,checked:!1},model:{value:t.Form.publish,callback:function(a){t.$set(t.Form,"publish",a)},expression:"Form.publish"}})],1)]),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2",attrs:{for:""}},[t._v(" Keterangan ")]),e("div",{staticClass:"col-sm-5"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Form.description,expression:"Form.description"}],staticClass:"form-control",attrs:{id:"",cols:"30",rows:"5"},domProps:{value:t.Form.description},on:{input:function(a){a.target.composing||t.$set(t.Form,"description",a.target.value)}}})])]),e("div",{staticClass:"form-group row justify-content-center"},[e("div",{staticClass:"col-sm-3"},[e("button",{staticClass:"btn btn-block btn-primary"},[t._v("\n                  Simpan\n                ")])])])])])],1)])])])},i=[],n=(e("6b54"),e("96cf"),e("3b8d")),o=(e("a481"),e("75c6")),r=e("fea2"),l={name:"EditUjian",components:{cswitch:o["a"],VueTimepicker:r["a"]},data:function(){return{Form:{},publishers:[],banner:null,token:null,dragValue:null,tanggal_ujian:"",category_ujian:[],count_theme:[],acces_pin:null,typeFiled:"password",pathUjian:"https://storage.googleapis.com/edutore-cdn/tryout/",Newbanner:null,showModalImage:!1,start_date:null,end_date:null,showModalAlert:!1}},mounted:function(){this.token=sessionStorage.getItem("session_token"),this._actionGetPublishers();var t=this.$route.query.ujian_id;this.ujian_id=t,this.token=sessionStorage.getItem("session_token"),this._actionGetUjianByid(t),this.actionGetCategoryUjian()},methods:{actionGetCategoryUjian:function(){var t=this;this.$axios.get("category-ujian",{headers:{"x-access-token":this.token}}).then((function(a){"true"==a.data.success&&(t.category_ujian=a.data.data.rows)}))},_actionGetUjianByid:function(t){var a=this;this.$axios.get("ujian/".concat(t),{headers:{"x-access-token":this.token}}).then((function(t){console.log(t.data);var e=t.data;if("true"===t.data.success){a.Form=e.data,a.start_date=new Date(e.data.start_date),a.end_date=new Date(e.data.end_date);var s=t.data.ujian_access;a.acces_pin=s?s.acces_pin:null}a.isLoading=!1})).catch((function(t){console.log(t),a.isLoading=!1}))},_actionGetPublishers:function(){var t=this;this.$axios.get("publishers",{headers:{"x-access-token":this.token}}).then((function(a){t.publishers=a.data.data.rows}))},_actionUpdate:function(){var t=this;this.$refs.form.validate().then((function(a){if(a){var e={judul_ujian:t.Form.judul_ujian,ujian_slug:t.Form.judul_ujian.replace(/\s+/g,"-").toLowerCase(),category_ujian:t.Form.category_ujian,type_ujian:t.Form.type_ujian,penyelenggara:t.Form.penyelenggara,is_premium:t.Form.is_premium,is_private:t.Form.is_private,ujian_banner:t.Form.ujian_banner,start_date:t.start_date,end_date:t.start_date,times:t.Form.times,end_times:t.Form.end_times,durations:t.Form.durations,publish:t.Form.publish,durasi_soal:t.Form.durasi_soal?t.Form.durasi_soal:120,description:t.Form.description,metode_penilaian:t.Form.metode_penilaian,waktu_pengerjaan:t.Form.waktu_pengerjaan,pin:t.acces_pin};t.$axios.put("ujian/".concat(t.ujian_id),e,{headers:{"x-access-token":t.token}}).then((function(a){"true"==a.data.success&&t.$notify({group:"foo",title:"Success Add ",text:a.data.message}),t._actionGetUjianByid(t.Form._id),t.$router.push({path:"/ujian/ujian-detail",query:{_id:t.ujian_id}})})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Opss .. ",text:"Ada Kesalahan di Server"})}))}else t.showModalAlert=!0}))},_changeFile:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var e,s,i,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.provider.validate(a);case 2:e=t.sent,s=e.valid,s&&(i=a.target.files,n=new FileReader,n.readAsDataURL(a.target.files[0]),n.onload=function(t){o.banner=t.target.result,o.Newbanner=i[0]});case 5:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),actionShowModal:function(){this.showModalImage=!0},handleSubmit:function(){var t=this,a=new FormData;a.append("ujian_banner",this.Newbanner),a.append("judul_ujian",this.Form.judul_ujian),a.append("ujian_id",this.ujian_id),this.$axios.post("update-ujian-banner",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"==a.data.success&&t.$notify({group:"foo",title:"Success",text:"Upload Banner"}),t.showModalImage=!1,t.banner=null,t._actionGetUjianByid(t.Form._id)})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Opss .. ",text:"Ada Kesalahan di Server"})}))},_actionClearFile:function(t){t.preventDefault(),this.banner="",this.Newbanner=null},showPin:function(){this.typeFiled="password"===this.typeFiled?"text":"password"},_formatPrice:function(t){if(t){var a=(t/1).toFixed(0).replace(".",",");return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}}},c=l,u=(e("b0e0"),e("2877")),d=Object(u["a"])(c,s,i,!1,null,"43bdf0e2",null);a["default"]=d.exports},b0e0:function(t,a,e){"use strict";var s=e("1dd9"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-849ceba4.b7bee975.js.map