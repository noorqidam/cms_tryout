(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e23178"],{3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),i=a("0bfb"),l=a("9e1e"),n="toString",o=/./[n],r=function(t){a("2aba")(RegExp.prototype,n,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?r((function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!l&&t instanceof RegExp?i.call(t):void 0)})):o.name!=n&&r((function(){return o.call(this)}))},"906a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2 card p-0 fixed",staticStyle:{"max-height":"900px"}},[a("form",{staticClass:"form-horizontal"},[t._m(0),a("div",{staticClass:"ml-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Filter,expression:"Filter"}],attrs:{type:"text"},domProps:{value:t.Filter},on:{input:function(e){e.target.composing||(t.Filter=e.target.value)}}})]),a("div",{staticClass:"col-sm-12",staticStyle:{"max-height":"400px",overflow:"scroll"}},t._l(t.filteredList,(function(e){return a("div",{key:e._id},[a("li",{staticStyle:{"list-style":"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.matpel,expression:"matpel"}],attrs:{type:"checkbox"},domProps:{value:e._id,checked:Array.isArray(t.matpel)?t._i(t.matpel,e._id)>-1:t.matpel},on:{change:[function(a){var s=t.matpel,i=a.target,l=!!i.checked;if(Array.isArray(s)){var n=e._id,o=t._i(s,n);i.checked?o<0&&(t.matpel=s.concat([n])):o>-1&&(t.matpel=s.slice(0,o).concat(s.slice(o+1)))}else t.matpel=l},t._actionFilter]}}),t._v("\n                "+t._s(e._id)+" ("+t._s(e.count)+")\n              ")])])})),0),a("hr"),t._m(1),a("div",{staticClass:"col-md-12",staticStyle:{"max-height":"180px",overflow:"scroll"}},t._l(t.GroupLevel,(function(e){return a("div",{key:e._id,staticStyle:{"margin-left":"0"}},[a("li",{staticStyle:{"list-style":"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],attrs:{type:"checkbox"},domProps:{value:e._id,checked:Array.isArray(t.level)?t._i(t.level,e._id)>-1:t.level},on:{change:[function(a){var s=t.level,i=a.target,l=!!i.checked;if(Array.isArray(s)){var n=e._id,o=t._i(s,n);i.checked?o<0&&(t.level=s.concat([n])):o>-1&&(t.level=s.slice(0,o).concat(s.slice(o+1)))}else t.level=l},t._actionFilter]}}),t._v("\n                "+t._s(e._id)+" ("+t._s(e.count)+")\n              ")])])})),0),t._m(2),a("div",{staticClass:"col-md-12",staticStyle:{"max-height":"180px",overflow:"scroll"}},t._l(t.SubGroupLevel,(function(e){return a("div",{key:e._id,staticStyle:{"margin-left":"0"}},[a("li",{staticStyle:{"list-style":"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sub_level,expression:"sub_level"}],attrs:{type:"checkbox"},domProps:{value:e._id,checked:Array.isArray(t.sub_level)?t._i(t.sub_level,e._id)>-1:t.sub_level},on:{change:[function(a){var s=t.sub_level,i=a.target,l=!!i.checked;if(Array.isArray(s)){var n=e._id,o=t._i(s,n);i.checked?o<0&&(t.sub_level=s.concat([n])):o>-1&&(t.sub_level=s.slice(0,o).concat(s.slice(o+1)))}else t.sub_level=l},t._actionFilter]}}),t._v("\n                "+t._s(e._id)+" ("+t._s(e.count)+")\n              ")])])})),0),t._m(3),a("div",{staticClass:"col-md-12"},t._l(t.GroupType,(function(e){return a("div",{key:e.name,staticStyle:{"margin-left":"0"}},[a("li",{staticStyle:{"list-style":"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",id:e.name},domProps:{value:e.name,checked:t._q(t.type,e.name)},on:{change:function(a){t.type=e.name}}}),t._v("\n                "+t._s(e.label)+"\n              ")])])})),0)])]),a("div",{staticClass:"col-md-10"},[a("router-link",{staticClass:"btn btn-sm btn-primary mb-1",attrs:{to:{path:"/p/create-bank-soal"}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Bank Soal\n        ")]),a("router-link",{staticClass:"btn btn-sm btn-dark mb-1 ml-2",attrs:{to:{path:"/p/banksoals/upload"}}},[a("i",{staticClass:"fa fa-cloud-upload"}),t._v(" Upload Soal\n        ")]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"col-sm-auto"},[a("label",{staticClass:"text-bold",attrs:{for:""}},[t._v("\n                  Total Soal "),a("b",[t._v(" "+t._s(t._formatPrice(t.totalRows))+" ")])]),a("button",{staticClass:"btn btn-sm btn-default",on:{click:t._actionGetAll}},[a("i",{staticClass:"fa fa-refresh"})])])]),a("div",[a("b-table",{attrs:{"show-empty":"",small:"","sticky-header":"","head-variant":"dark",responsive:"",items:t.items,fields:t.attribute,"current-page":t.currentPage,filter:t.filter,filterIncludedFields:t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,busy:t.isBusy},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(No)",fn:function(e){return[t._v("\n                  "+t._s((t.currentPage-1)*t.perPage+(e.index+1))+"\n                ")]}},{key:"cell(soal)",fn:function(e){return[e.item.soal_text?a("div",[a("p",{domProps:{innerHTML:t._s(e.item.soal_text)}})]):t._e()]}},{key:"cell(images)",fn:function(e){return[e.item.soal_image?a("div",[e.item.soal_image?a("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:t.pathImagesQ+e.item.soal_image,expression:"pathImagesQ + data.item.soal_image",modifiers:{container:!0}}],staticStyle:{heigth:"60pxwidth:auto","max-width":"200px"},attrs:{alt:e.item.soal_image}}):t._e()]):t._e()]}},{key:"cell(free)",fn:function(e){return[a("div",[e.item.free_trial?a("span",{staticClass:"badge badge-success"},[t._v(" Trial ")]):a("span",{staticClass:"badge badge-danger"},[t._v(" Non Trial ")])])]}},{key:"cell(actions)",fn:function(t){return[a("b-button",{attrs:{size:"sm"},on:{click:t.toggleDetails}},[a("i",{staticClass:"fa fa-angle-down"})])]}},{key:"cell(edit)",fn:function(e){return[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t._actionEditSoal(e.item)}}},[a("i",{staticClass:"fa fa-pencil"})])]}},{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t._actionDeleteSoal(e)}}},[a("i",{staticClass:"fa fa-trash-o"})])]}},{key:"row-details",fn:function(e){return[e.item.jawabans.length>0?a("b-card",[a("ol",{attrs:{type:"A"}},t._l(e.item.jawabans,(function(e,s){return a("li",{key:s},[a("label",{domProps:{innerHTML:t._s(e.jawaban_text)}}),t._v(" (point\n                        "),a("span",{staticClass:"badge badge-light"},[t._v(" "+t._s(e.point)+" ")]),t._v(" )\n                      ")])})),0),t._v("\n                    "+t._s(e.item.tag)+"\n                    "+t._s(e.item.sub_category_id)+"\n                  ")]):a("b-card",[t._v("\n                    Tidak ada pilihan jawaban\n                  ")])]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-dark my-2"},[a("b-spinner",{staticClass:"align-middle",attrs:{variant:"dark",type:"grow",label:"Loading .."}}),t._v("\n                    Loading ..\n                  ")],1)]},proxy:!0}])})],1),a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"col-sm-auto"},[a("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"pl-1",attrs:{for:""}},[a("b",[t._v(" Matapelajaran ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"pl-1",attrs:{for:""}},[a("b",[t._v(" Kategory ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"pl-1",attrs:{for:""}},[a("b",[t._v(" Sub Kategory ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"pl-1",attrs:{for:""}},[a("b",[t._v(" Type ")])])}],l=(a("6b54"),a("a481"),{name:"BankSoalPublisher",data:function(){return{items:[],perPage:200,totalRows:0,isLoading:!1,token:null,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",pathPembahasan:"https://storage.googleapis.com/edutore-cdn/public/soal/discussion/",Filterspublishers:[],matpel:[],level:[],sub_level:[],GroupMatpel:[],GroupLevel:[],SubGroupLevel:[],GroupPublisher:[],showD:[],attribute:["No",{key:"soal",label:"Soal text",sortable:!0,sortDirection:"desc"},{key:"images",label:"Soal Image",sortable:!0,class:"text-center"},{key:"type_soal",label:"Tipe Soal",sortable:!0,class:"text-center"},{key:"category_id",label:"Kategory",sortable:!0,class:"text-center"},{key:"matpel_id",label:"Mata pelajaran",sortable:!0,class:"text-center"},{key:"free",label:"Free"},{key:"publisher_id",label:"Publisher",sortable:!0,class:"text-center"},{key:"actions",label:"Actions"},{key:"edit",label:"Edit"},{key:"delete",label:"Delete"},{key:"createdBy",label:"Di Buat Oleh"}],currentPage:1,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],isBusy:!0,Filter:null,GroupType:[{name:"true",label:"TRIAL"},{name:"false",label:"NON TRIAL"}],type:""}},watch:{currentPage:function(){if(this.$route.query.matpel||this.$route.query.level){var t=this.$route.query.matpel?this.$route.query.matpel:null,e=this.$route.query.level?this.$route.query.level:null,a=this.$route.query.sub_level?this.$route.query.sub_level:null;this._actionQuerySoal(t,e,a)}else console.log("get all"),this._actionGetAll()},type:function(){var t=this.$route.query;console.log(t)}},computed:{filteredList:function(){var t=this;return this.Filter?this.GroupMatpel.filter((function(e){return e._id.toLowerCase().indexOf(t.Filter.toLowerCase())>-1})):this.GroupMatpel}},mounted:function(){if(this.token=sessionStorage.getItem("session_token"),this.$route.query.matpel||this.$route.query.level){var t=this.$route.query.matpel?this.$route.query.matpel:null,e=this.$route.query.level?this.$route.query.level:null,a=this.$route.query.sub_level?this.$route.query.sub_level:null;this._actionQuerySoal(t,e,a)}else console.log("get all"),this._actionGetAll()},methods:{_actionFilter:function(){var t=this,e=this.matpel,a=this.level,s=this.sub_level;this.$router.push({path:"/p/banksoals?",query:{matpel:e,level:a,sub_level:s}}),setTimeout((function(){t._actionQuerySoal(e,a,s)}),1e3)},_actionGetAll:function(){var t=this;this.isBusy=!0,this.$axios.get("publisher-banksoals?page=".concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(e){var a=e.data;"true"===e.data.success&&(t.items=a.data,t.totalRows=a.total,t.GroupMatpel=a.matpel_id,t.GroupLevel=a.category_id,t.SubGroupLevel=a.sub_category_id),t.isBusy=!1})).catch((function(e){console.log(e),t.isBusy=!1}))},_actionQuerySoal:function(t,e,a){var s=this;console.log("Query ini "+t.length,e.length,a.length),t.length>0?t&&e.length>0?(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&matpel=".concat(t,"&level=").concat(e,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):t.length>0&&a.length>0?(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&matpel=".concat(t,"&sub_level=").concat(a,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&matpel=".concat(t,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):e.length>0?(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&level=".concat(e,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):a.length>0?a.length>0&&t.length>0?(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&matpel=".concat(t,"&sub_level=").concat(a,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):(this.isBusy=!0,this.$axios.get("publisher-banksoals/filter?&sub_level=".concat(a,"&page=").concat(this.currentPage,"&limit=").concat(this.perPage),{headers:{"x-access-token":this.token}}).then((function(t){s.isBusy=!1,s.items=[],"true"===t.data.success&&(s.items=t.data.data,s.totalRows=t.data.total,s.GroupMatpel=t.data.matpel_id?t.data.matpel_id:null,s.GroupLevel=t.data.category_id),s.isBusy=!1})).catch((function(t){console.log(t),s.isBusy=!1}))):this._actionGetAll()},_formatPrice:function(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},_actionDeleteSoal:function(t){var e=this,a={_id:t.item._id};this.$axios.post("publisher-delete-bank-soal",a,{headers:{"x-access-token":this.token}}).then((function(a){e.$notify({group:"foo",type:"success",title:"Yay",text:a.data.message}),e.shuffle_items(t.item._id)})).catch((function(t){e.$notify({group:"foo",type:"error",title:"Opps ",text:t.response.data.message})}))},shuffle_items:function(t){var e=this.items.map((function(t){return t._id})).indexOf(t);this.items.splice(e,1),this.totalRows=this.items.length},_actionEditSoal:function(t){this.$router.push({path:"/p/edit-bank-soal",query:{_id:t._id}})},formatDatetime:function(t){return new Date(t).toString()}}}),n=l,o=(a("e1c4"),a("2877")),r=Object(o["a"])(n,s,i,!1,null,"34ca06d1",null);e["default"]=r.exports},"993b":function(t,e,a){},a481:function(t,e,a){"use strict";var s=a("cb7c"),i=a("4bf8"),l=a("9def"),n=a("4588"),o=a("0390"),r=a("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,f){return[function(s,i){var l=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,l,i):a.call(String(l),s,i)},function(t,e){var i=f(a,t,this,e);if(i.done)return i.value;var d=s(t),p=String(this),h="function"===typeof e;h||(e=String(e));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}var _=[];while(1){var b=r(d,p);if(null===b)break;if(_.push(b),!g)break;var k=String(b[0]);""===k&&(d.lastIndex=o(p,l(d.lastIndex),y))}for(var x="",w=0,S=0;S<_.length;S++){b=_[S];for(var $=String(b[0]),B=c(u(n(b.index),p.length),0),C=[],P=1;P<b.length;P++)C.push(m(b[P]));var G=b.groups;if(h){var A=[$].concat(C,B,p);void 0!==G&&A.push(G);var L=String(e.apply(void 0,A))}else L=v($,p,B,C,G,e);B>=w&&(x+=p.slice(w,B)+L,w=B+$.length)}return x+p.slice(w)}];function v(t,e,s,l,n,o){var r=s+t.length,c=l.length,u=h;return void 0!==n&&(n=i(n),u=p),a.call(o,u,(function(a,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(r);case"<":o=n[i.slice(1,-1)];break;default:var u=+i;if(0===u)return a;if(u>c){var p=d(u/10);return 0===p?a:p<=c?void 0===l[p-1]?i.charAt(1):l[p-1]+i.charAt(1):a}o=l[u-1]}return void 0===o?"":o}))}}))},e1c4:function(t,e,a){"use strict";var s=a("993b"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-62e23178.764796c7.js.map