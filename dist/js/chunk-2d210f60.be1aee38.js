(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210f60"],{b9b5:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h5",{staticClass:"text-center"},[t._v(t._s(t.items.judul_quiz))])]),e("div",{staticClass:"col-md-12"},[t.showButton?t._e():e("b-progress",{attrs:{max:t.max,height:"1rem"}},[e("b-progress-bar",{attrs:{value:t.timer}},[t._v(" "+t._s(t.timer)+" s ")])],1)],1),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(s){return t._actionStopQuiz(t.items)}}},[e("i",{staticClass:"fa fa-stop"}),t._v(" Hentikan Quiz\n      ")]),e("table",{staticClass:"table table-md table-bordered table-hover table-striped"},[t._m(0),e("tbody",[t._l(t.soals,(function(s,a){return[e("tr",{key:s._id},[e("td",{staticClass:"text-center"},[t._v(t._s(++a))]),e("td",[t._v(t._s(s._id))]),e("td",[t._v("\n                "+t._s(s.type_soal)+"\n              ")]),e("td",[t._v(t._s(s.category_id))]),e("td",[t._v(t._s(s.matpel_id))]),e("td",[t.showButton?e("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){return t._actionTriggerSoal(s)}}},[e("i",{staticClass:"fa fa-toggle-right"})]):t._e()])])]}))],2)])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("No")]),e("th",[t._v("Soal Key")]),e("th",[t._v("Tipe Soal")]),e("th",[t._v("Kategori Soal")]),e("th",[t._v("Matapelajaran")]),e("th",[t._v("Kirim Soal")])])])}],o={name:"TriggerSoalQuizPublisher",data:function(){return{soals:[],items:{},showButton:!0,max:0,timer:0,countdown:null}},mounted:function(){this.token=sessionStorage.getItem("session_token");var t=this.$route.query._id;this._id=t,this._actionGetDetail(t)},methods:{_actionGetDetail:function(t){var s=this;this.$axios.get("publisher-live-quiz/".concat(t),{headers:{"x-access-token":this.token}}).then((function(t){console.log(t.data.data),s.items=t.data.data.quiz_id,s.max=s.items.durasi_soal,s.soals=t.data.data.soals})).catch((function(t){console.log(t)}))},_actionTriggerSoal:function(t){var s=this,e={soal:t};this.$axios.post("trigger-soal-quiz",e,{headers:{"x-access-token":this.token}}).then((function(e){"true"==e.data.success&&(s._actionDeleteSoal(t._id),s.actionCounterTimeButton(),s.$notify({group:"foo",title:"Yay .. ",type:"success",text:"Berhasil Kirim Soal"}))})).catch((function(t){console.log(t)}))},_actionDeleteSoal:function(t){var s=this.soals.filter((function(s){return s._id!=t}));this.soals=s},actionCounterTimeButton:function(){var t=this,s=this.items;this.showButton=!1;var e=parseInt(s.durasi_soal)+4;this.max=e,this.timer=e,this.countdown=setInterval((function(){t.timer--,0===t.timer&&(t.showButton=!0,clearInterval(t.countdown))}),1e3)},_actionStopQuiz:function(){var t=this,s={quiz_id:this.items._id};this.$axios.post("trigger-soal-quiz/show-nilai",s,{headers:{"x-access-token":this.token}}).then((function(s){"true"==s.data.success&&t.$notify({group:"foo",title:"Yay .. ",type:"success",text:s.data.message})})).catch((function(t){console.log(t)}))}}},n=o,r=e("2877"),c=Object(r["a"])(n,a,i,!1,null,"5f6b02f6",null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d210f60.be1aee38.js.map