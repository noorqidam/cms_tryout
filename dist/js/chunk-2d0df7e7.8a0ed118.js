(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df7e7"],{"89c3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"","hide-header":""},model:{value:t.showModalAction,callback:function(a){t.showModalAction=a},expression:"showModalAction"}},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("h5",[t._v("Kirim Email ke:")]),e("span",[t._v(t._s(t.emailPersonal))]),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:t._actionPostEmailPersonal}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v("\n                Ya!\n              ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(a){t.showModalAction=!1}}},[e("i",{staticClass:"fa fa-close"}),t._v("\n                Tidak!\n              ")])])])])])])],1),t._m(0),e("div",{staticClass:"col-md-12 mb-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-right"},[""!=t.selected?e("button",{staticClass:"btn btn-info btn-sm text-white",on:{click:t._actionShowModal}},[t._v("\n          Kirim Multiple Email\n        ")]):e("button",{staticClass:"btn btn-info btn-sm text-white",attrs:{disabled:""}},[t._v("\n          Kirim Multiple Email\n        ")]),e("div",{staticClass:"col-md-12"},[e("b-modal",{attrs:{size:"md","hide-footer":"","hide-header":""},model:{value:t.modalMultiEmail,callback:function(a){t.modalMultiEmail=a},expression:"modalMultiEmail"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t._v("\n                Kirim Email ke :\n              ")]),e("div",{staticClass:"col-md-12 text-center"},[t._l(t.selected,(function(a){return e("span",{key:a.user_id,staticClass:"badge badge-info text-white m-1",staticStyle:{"font-size":"14px"}},[t._v("\n                  "+t._s(a.email)+"\n                ")])})),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:t._actionPostEmail}},[e("i",{staticClass:"fa fa-paper-plane"}),t._v("\n                    Ya!\n                  ")]),e("button",{staticClass:"btn btn-danger btn-sm ml-2",on:{click:function(a){t.modalMultiEmail=!1}}},[e("i",{staticClass:"fa fa-close"}),t._v("\n                    Tidak!\n                  ")])])],2)])])],1)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 card scrollable"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-hover"},[e("thead",{staticClass:"bg-dark text-white"},[e("tr",[e("th",{attrs:{rowspan:"3"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,i=a.target,s=!!i.checked;if(Array.isArray(e)){var n=null,l=t._i(e,n);i.checked?l<0&&(t.selectAll=e.concat([n])):l>-1&&(t.selectAll=e.slice(0,l).concat(e.slice(l+1)))}else t.selectAll=s}}})]),e("th",{attrs:{rowspan:"3"}},[t._v("No")]),e("th",{staticClass:"text-center",attrs:{rowspan:"3"}},[t._v("Email")]),e("th",{staticClass:"text-center",attrs:{colspan:t.tablee}},[t._v("Nilai Sesi")]),e("th",{staticClass:"text-center",attrs:{rowspan:"3"}},[t._v("Nilai Akhir")]),e("th",{staticClass:"text-center",attrs:{rowspan:"3"}},[t._v("Actions")])]),e("tr",{staticClass:"bg-white text-dark"},t._l(t.reportPesertaUjian,(function(a,i){return e("th",{key:i,staticClass:"text-center"},[t._v("\n                "+t._s(a.sesi_ujian)+"\n              ")])})),0),e("tr",{staticClass:"bg-white text-dark"},t._l(t.tablee,(function(a,i){return e("th",{key:i,staticClass:"text-center"},[t._v("PG/ESY/NS")])})),0)]),e("tbody",{staticClass:"text-center"},t._l(t.reportPeserta,(function(a,i){return e("tr",{key:i},[0==a.is_reviewed?e("th",[e("input",{attrs:{type:"checkbox",disabled:""}})]):e("th",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.selected)?t._i(t.selected,a)>-1:t.selected},on:{change:function(e){var i=t.selected,s=e.target,n=!!s.checked;if(Array.isArray(i)){var l=a,c=t._i(i,l);s.checked?c<0&&(t.selected=i.concat([l])):c>-1&&(t.selected=i.slice(0,c).concat(i.slice(c+1)))}else t.selected=n}}})]),e("th",[t._v("\n                "+t._s(1+i++)+"\n              ")]),e("td",[t._v(t._s(a.email))]),t._l(a.sesi,(function(a,i){return e("td",{key:i},["Belum diaprooved dan dinilai"==a.nilai_akhir?e("span",[t._v(t._s(a.nilai_akhir))]):e("span",[t._v(t._s(a.nilai_pg)+"/"+t._s(a.nilai_esay)+"/"+t._s(a.nilai_akhir))])])})),e("td",[t._v(t._s(a.nilai_akhir))]),e("td",[e("i",{staticClass:"fa fa-chevron-right",staticStyle:{cursor:"pointer"},on:{click:function(e){return t._actionModalPersonal(a)}}})])],2)})),0)])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12 mb-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"bg-info p-1",staticStyle:{"border-radius":"3px"}},[t._v("PG")]),e("span",{staticClass:"p-1"},[t._v(": Pilihan Ganda")]),e("div",{staticClass:"mx-1",staticStyle:{"border-left":"1px solid #292b2c"}}),e("div",{staticClass:"bg-success p-1",staticStyle:{"border-radius":"3px"}},[t._v("ESY")]),e("span",{staticClass:"p-1"},[t._v(": Essay")]),e("div",{staticClass:"mx-1",staticStyle:{"border-left":"1px solid #292b2c"}}),e("div",{staticClass:"bg-primary p-1",staticStyle:{"border-radius":"3px"}},[t._v("NS")]),e("span",{staticClass:"p-1"},[t._v(": Nilai Akhir Sesi")])])])}],n=(e("7f7f"),e("ac6a"),e("8055")),l=e.n(n),c={name:"ReportDetailUjian",data:function(){return{reportPeserta:[],ujian_id:null,token:null,tablee:0,selected:[],selectAll:!1,showModalAction:!1,reportPesertaUjian:[],modalMultiEmail:!1,dataEmail:[],dataEmailPersonal:{},dataSelected:{},dataUjian:[],emailPersonal:""}},mounted:function(){this.token=sessionStorage.getItem("session_token");var t=this.$route.params.ujian_id;this.ujian_id=t,this._actionGetReportUjian()},methods:{_actionRealtime:function(){var t=l()("https://api-tryout.edutore.net");t.on("email_sent",function(t){t&&this.$notify({group:"foo",title:"Berhasik kirim email ke",text:t.info.email})}.bind(this))},_actionGetReportUjian:function(){var t=this;this.$axios.get("report-ujian-admin/"+this.ujian_id,{headers:{"x-access-token":this.token}}).then((function(a){"true"==a.data.success&&(t.reportPeserta=a.data.data,t.reportPesertaUjian=a.data.sesi_ujian,t.tablee=t.reportPesertaUjian.length,t.dataUjian=a.data.ujian)})).catch((function(t){return console.log(t.response.data)}))},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.reportPeserta)!0===this.reportPeserta[t].is_reviewed&&this.selected.push(this.reportPeserta[t])},_actionShowModal:function(){var t=this;this.modalMultiEmail=!0;var a=[];this.selected.forEach((function(e){var i=[];t.reportPesertaUjian.forEach((function(t){var a=e.sesi.filter((function(a){return a.sesi_id===t._id}));i.push({sesi_ujian:t.sesi_ujian,nilai:a[0].nilai_akhir})})),a.push({email:e.email,nama_peserta:e.name,judul_ujian:t.dataUjian.judul_ujian,penyelenggara:t.dataUjian.penyelenggara,start_date:t.dataUjian.start_date,times:t.dataUjian.times,end_times:t.dataUjian.end_times,skor:e.nilai_akhir,sesi_ujian:i})})),this.dataSelected=a},_actionPostEmail:function(){var t=this,a=this.dataSelected;this.$axios.post("send-email-ujian",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"===a.data.success&&t._actionRealtime()})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.selected=[],this.selectAll=!1,this.dataSelected={},this.modalMultiEmail=!1},_actionModalPersonal:function(t){this.showModalAction=!0,this.emailPersonal=t.email;var a=[],e=[];this.reportPesertaUjian.forEach((function(a){var i=t.sesi.filter((function(t){return t.sesi_id===a._id}));e.push({sesi_ujian:a.sesi_ujian,nilai:i[0].nilai_akhir})})),a.push({email:t.email,nama_peserta:t.name,judul_ujian:this.dataUjian.judul_ujian,penyelenggara:this.dataUjian.penyelenggara,start_date:this.dataUjian.start_date,times:this.dataUjian.times,end_times:this.dataUjian.end_times,skor:t.nilai_akhir,sesi_ujian:e}),this.dataEmailPersonal=a},_actionPostEmailPersonal:function(){var t=this,a=this.dataEmailPersonal;this.$axios.post("send-email-ujian",a,{headers:{"x-access-token":this.token}}).then((function(a){"true"===a.data.success&&t._actionRealtime()})).catch((function(a){console.log(a),t.$notify({group:"foo",type:"error",title:"Gagal Mengirim Email"})})),this.showModalAction=!1,this.dataEmailPersonal={}}}},r=c,o=e("2877"),d=Object(o["a"])(r,i,s,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0df7e7.8a0ed118.js.map